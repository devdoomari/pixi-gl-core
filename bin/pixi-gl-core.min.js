/*!
 * pixi-gl-core - v1.0.3
 * Compiled Thu, 12 Jan 2017 11:12:07 UTC
 *
 * pixi-gl-core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.pixiGlCore=t()}}(function(){return function t(e,r,i){function a(o,s){if(!r[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(n)return n(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[o]={exports:{}};e[o][0].call(c.exports,function(t){var r=e[o][1][t];return a(r?r:t)},c,c.exports,t,e,r,i)}return r[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(t,e,r){var i=new ArrayBuffer(0),a=function(t,e,r,a){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=a||t.STATIC_DRAW,this.data=i,r&&this.upload(r),this._updateID=0};a.prototype.upload=function(t,e,r){r||this.bind();var i=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?i.bufferSubData(this.type,e,t):i.bufferData(this.type,t,this.drawType),this.data=t},a.prototype.bind=function(){var t=this.gl;t.bindBuffer(this.type,this.buffer)},a.createVertexBuffer=function(t,e,r){return new a(t,t.ARRAY_BUFFER,e,r)},a.createIndexBuffer=function(t,e,r){return new a(t,t.ELEMENT_ARRAY_BUFFER,e,r)},a.create=function(t,e,r,i){return new a(t,e,r,i)},a.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=a},{}],2:[function(t,e,r){var i=t("./GLTexture"),a=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};a.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new i(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},a.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},a.prototype.clear=function(t,e,r,i){this.bind();var a=this.gl;a.clearColor(t,e,r,i),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},a.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},a.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},a.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},a.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},a.createRGBA=function(t,e,r,n){var o=i.fromData(t,null,e,r);o.enableNearestScaling(),o.enableWrapClamp();var s=new a(t,e,r);return s.enableTexture(o),s.enableStencil(),s.unbind(),s},a.createFloat32=function(t,e,r,n){var o=new i.fromData(t,n,e,r);o.enableNearestScaling(),o.enableWrapClamp();var s=new a(t,e,r);return s.enableTexture(o),s.unbind(),s},e.exports=a},{"./GLTexture":4}],3:[function(t,e,r){var i=t("./shader/compileProgram"),a=t("./shader/extractAttributes"),n=t("./shader/extractUniforms"),o=t("./shader/setPrecision"),s=t("./shader/generateUniformAccessObject"),u=function(t,e,r,u,f){this.gl=t,u&&(e=o(e,u),r=o(r,u)),this.program=i(t,e,r,f),this.attributes=a(t,this.program),this.uniformData=n(t,this.program),this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){this.gl.useProgram(this.program)},u.prototype.destroy=function(){},e.exports=u},{"./shader/compileProgram":8,"./shader/extractAttributes":10,"./shader/extractUniforms":11,"./shader/generateUniformAccessObject":12,"./shader/setPrecision":16}],4:[function(t,e,r){var i=function(t,e,r,i,a){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=i||t.RGBA,this.type=a||t.UNSIGNED_BYTE};i.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,i=t.videoHeight||t.height;i!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=i};var a=!1;i.prototype.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!a){var n=i.getExtension("OES_texture_float");if(!n)throw new Error("floating point textures not available");a=!0}this.type=i.FLOAT}else this.type=i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},i.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},i.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},i.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},i.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},i.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},i.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},i.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},i.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},i.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},i.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},i.prototype.destroy=function(){var t=this.gl;t.deleteTexture(this.texture)},i.fromSource=function(t,e,r){var a=new i(t);return a.premultiplyAlpha=r||!1,a.upload(e),a},i.fromData=function(t,e,r,a){var n=new i(t);return n.uploadData(e,r,a),n},e.exports=i},{}],5:[function(t,e,r){function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var a=t("./setVertexAttribArrays");i.prototype.constructor=i,e.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return a(t,this.attributes,this.nativeState),this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,i,a,n){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:i||!1,stride:a||0,start:n||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var i=this.gl;return i.drawElements(t,e||this.indexBuffer.data.length,i.UNSIGNED_SHORT,r||0),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null}},{"./setVertexAttribArrays":7}],6:[function(t,e,r){var i=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r};e.exports=i},{}],7:[function(t,e,r){var i=function(t,e,r){var i;if(r){var a=r.tempAttribState,n=r.attribState;for(i=0;i<a.length;i++)a[i]=!1;for(i=0;i<e.length;i++)a[e[i].attribute.location]=!0;for(i=0;i<n.length;i++)n[i]!==a[i]&&(n[i]=a[i],r.attribState[i]?t.enableVertexAttribArray(i):t.disableVertexAttribArray(i))}else for(i=0;i<e.length;i++){var o=e[i];t.enableVertexAttribArray(o.attribute.location)}};e.exports=i},{}],8:[function(t,e,r){var i=function(t,e,r,i){var n=a(t,t.VERTEX_SHADER,e),o=a(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var u in i)t.bindAttribLocation(s,i[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s},a=function(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.log(t.getShaderInfoLog(i)),null)};e.exports=i},{}],9:[function(t,e,r){var i=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return a(2*e);case"bvec3":return a(3*e);case"bvec4":return a(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},a=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};e.exports=i},{}],10:[function(t,e,r){var i=t("./mapType"),a=t("./mapSize"),n=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<n;s++){var u=t.getActiveAttrib(e,s),f=i(t,u.type);r[u.name]={type:f,size:a(f),location:t.getAttribLocation(e,u.name),pointer:o}}return r},o=function(t,e,r,i){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,i||0)};e.exports=n},{"./mapSize":14,"./mapType":15}],11:[function(t,e,r){var i=t("./mapType"),a=t("./defaultValue"),n=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<n;o++){var s=t.getActiveUniform(e,o),u=s.name.replace(/\[.*?\]/,""),f=i(t,s.type);r[u]={type:f,size:s.size,location:t.getUniformLocation(e,u),value:a(f,s.size)}}return r};e.exports=n},{"./defaultValue":9,"./mapType":15}],12:[function(t,e,r){var i=function(t,e){var r={data:{}};r.gl=t;for(var i=Object.keys(e),n=0;n<i.length;n++){var o=i[n],f=o.split("."),c=f[f.length-1],h=u(f,r),l=e[o];h.data[c]=l,h.gl=t,Object.defineProperty(h,c,{get:a(c),set:s(c,l)})}return r},a=function(t){return function(){return this.data[t].value}},n=function(t,e,r,i){switch(uniform.type){case"float":t.uniform1f(e,i);break;case"vec2":t.uniform2f(e,i[0],i[1]);break;case"vec3":t.uniform3f(e,i[0],i[1],i[2]);break;case"vec4":t.uniform4f(e,i[0],i[1],i[2],i[3]);break;case"int":t.uniform1i(e,i);break;case"ivec2":t.uniform2i(e,i[0],i[1]);break;case"ivec3":t.uniform3i(e,i[0],i[1],i[2]);break;case"ivec4":t.uniform4i(e,i[0],i[1],i[2],i[3]);break;case"bool":t.uniform1i(e,i);break;case"bvec2":t.uniform2i(e,i[0],i[1]);break;case"bvec3":t.uniform3i(e,i[0],i[1],i[2]);break;case"bvec4":t.uniform4i(e,i[0],i[1],i[2],i[3]);break;case"mat2":t.uniformMatrix2fv(e,!1,i);break;case"mat3":t.uniformMatrix3fv(e,!1,i);break;case"mat4":t.uniformMatrix4fv(e,!1,i);break;case"sampler2D":t.uniform1i(e,i)}},o=function(t,e,r,i){switch(r){case"float":t.uniform1fv(e,i);break;case"vec2":t.uniform2fv(e,i);break;case"vec3":t.uniform3fv(e,i);break;case"vec4":t.uniform4fv(e,i);break;case"int":t.uniform1iv(e,i);break;case"ivec2":t.uniform2iv(e,i);break;case"ivec3":t.uniform3iv(e,i);break;case"ivec4":t.uniform4iv(e,i);break;case"bool":t.uniform1iv(e,i);break;case"bvec2":t.uniform2iv(e,i);break;case"bvec3":t.uniform3iv(e,i);break;case"bvec4":t.uniform4iv(e,i);break;case"sampler2D":t.uniform1iv(e,i)}},s=function(t,e){return function(r){this.data[t].value=r;var i=this.data[t].location;1===e.size?n(this.gl,i,e.type,r):o(this.gl,i,e.type,r)}},u=function(t,e){for(var r=e,i=0;i<t.length-1;i++){var a=r[t[i]]||{data:{}};r[t[i]]=a,r=a}return r};e.exports=i},{}],13:[function(t,e,r){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":8,"./defaultValue":9,"./extractAttributes":10,"./extractUniforms":11,"./generateUniformAccessObject":12,"./mapSize":14,"./mapType":15}],14:[function(t,e,r){var i=function(t){return a[t]},a={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=i},{}],15:[function(t,e,r){var i=function(t,e){if(!a){var r=Object.keys(n);a={};for(var i=0;i<r.length;++i){var o=r[i];a[t[o]]=n[o]}}return a[e]},a=null,n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=i},{}],16:[function(t,e,r){var i=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t};e.exports=i},{}],17:[function(t,e,r){var i={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};"undefined"!=typeof e&&e.exports&&(e.exports=i),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=i)},{"./GLBuffer":1,"./GLFramebuffer":2,"./GLShader":3,"./GLTexture":4,"./VertexArrayObject":5,"./createContext":6,"./setVertexAttribArrays":7,"./shader":13}]},{},[17])(17)});
//# sourceMappingURL=pixi-gl-core.min.js.map
