{"version":3,"sources":["/node_modules/browser-pack/_prelude.js","/src/GLBuffer.js","/src/GLFramebuffer.js","/src/GLShader.js","/src/GLTexture.js","/src/VertexArrayObject.js","/src/createContext.js","/src/setVertexAttribArrays.js","/src/shader/compileProgram.js","/src/shader/defaultValue.js","/src/shader/extractAttributes.js","/src/shader/extractUniforms.js","/src/shader/generateUniformAccessObject.js","/src/shader/index.js","/src/shader/mapSize.js","/src/shader/mapType.js","/src/shader/setPrecision.js","/src"],"names":["f","exports","module","define","amd","g","window","global","self","this","pixiGlCore","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","EMPTY_ARRAY_BUFFER","ArrayBuffer","Buffer","gl","type","data","drawType","buffer","createBuffer","ARRAY_BUFFER","STATIC_DRAW","upload","_updateID","prototype","offset","dontBind","bind","byteLength","bufferSubData","bufferData","bindBuffer","createVertexBuffer","createIndexBuffer","ELEMENT_ARRAY_BUFFER","create","destroy","deleteBuffer","Texture","Framebuffer","width","height","framebuffer","createFramebuffer","stencil","texture","enableTexture","framebufferTexture2D","FRAMEBUFFER","COLOR_ATTACHMENT0","TEXTURE_2D","enableStencil","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","framebufferRenderbuffer","DEPTH_STENCIL_ATTACHMENT","renderbufferStorage","DEPTH_STENCIL","clear","b","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","bindFramebuffer","unbind","resize","uploadData","deleteFramebuffer","createRGBA","fromData","enableNearestScaling","enableWrapClamp","fbo","createFloat32","compileProgram","extractAttributes","extractUniforms","setPrecision","generateUniformAccessObject","Shader","vertexSrc","fragmentSrc","precision","attributeLocations","program","attributes","uniformData","uniforms","useProgram","format","createTexture","mipmap","premultiplyAlpha","RGBA","UNSIGNED_BYTE","source","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","newWidth","videoWidth","newHeight","videoHeight","texImage2D","texSubImage2D","FLOATING_POINT_AVAILABLE","Float32Array","ext","getExtension","FLOAT","location","undefined","activeTexture","TEXTURE0","bindTexture","minFilter","linear","texParameteri","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR","NEAREST","magFilter","TEXTURE_MAG_FILTER","enableMipmap","generateMipmap","enableLinearScaling","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","enableWrapRepeat","REPEAT","enableWrapMirrorRepeat","MIRRORED_REPEAT","deleteTexture","fromSource","VertexArrayObject","state","nativeVaoExtension","FORCE_NATIVE","nativeState","nativeVao","createVertexArrayOES","maxAttribs","getParameter","MAX_VERTEX_ATTRIBS","tempAttribState","Array","attribState","indexBuffer","dirty","setVertexAttribArrays","constructor","bindVertexArrayOES","activate","lastBuffer","attrib","vertexAttribPointer","attribute","size","normalized","stride","start","addAttribute","push","addIndex","draw","drawElements","UNSIGNED_SHORT","deleteVertexArrayOES","createContext","canvas","options","getContext","attribs","enableVertexAttribArray","disableVertexAttribArray","glVertShader","compileShader","VERTEX_SHADER","glFragShader","FRAGMENT_SHADER","createProgram","attachShader","bindAttribLocation","linkProgram","getProgramParameter","LINK_STATUS","console","error","VALIDATE_STATUS","getError","getProgramInfoLog","warn","deleteProgram","deleteShader","src","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","log","getShaderInfoLog","defaultValue","Int32Array","booleanArray","array","mapType","mapSize","totalAttributes","ACTIVE_ATTRIBUTES","attribData","getActiveAttrib","name","getAttribLocation","pointer","totalUniforms","ACTIVE_UNIFORMS","getActiveUniform","replace","getUniformLocation","value","uniformKeys","Object","keys","fullName","nameTokens","split","uniformGroup","getUniformGroup","uniform","defineProperty","get","generateGetter","set","generateSetter","glslSetSingle","uniform1f","uniform2f","uniform3f","uniform4f","uniform1i","uniform2i","uniform3i","uniform4i","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","glslSetArray","uniform1fv","uniform2fv","uniform3fv","uniform4fv","uniform1iv","uniform2iv","uniform3iv","uniform4iv","cur","GLSL_TO_SIZE","float","vec2","vec3","vec4","int","ivec2","ivec3","ivec4","bool","bvec2","bvec3","bvec4","mat2","mat3","mat4","sampler2D","GL_TABLE","typeNames","GL_TO_GLSL_TYPES","tn","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","substring","GLBuffer","GLFramebuffer","GLShader","GLTexture","PIXI","glCore"],"mappings":"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","file":"pixi-gl-core.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var EMPTY_ARRAY_BUFFER = new ArrayBuffer(0);\n\n/**\n * Helper class to create a webGL buffer\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param type {gl.ARRAY_BUFFER | gl.ELEMENT_ARRAY_BUFFER} @mat\n * @param data {ArrayBuffer| SharedArrayBuffer|ArrayBufferView} an array of data\n * @param drawType {gl.STATIC_DRAW|gl.DYNAMIC_DRAW|gl.STREAM_DRAW}\n */\nvar Buffer = function(gl, type, data, drawType)\n{\n\n\t/**\n     * The current WebGL rendering context\n     *\n     * @member {WebGLRenderingContext}\n     */\n\tthis.gl = gl;\n\n\t/**\n     * The WebGL buffer, created upon instantiation\n     *\n     * @member {WebGLBuffer}\n     */\n\tthis.buffer = gl.createBuffer();\n\n\t/**\n     * The type of the buffer\n     *\n     * @member {gl.ARRAY_BUFFER|gl.ELEMENT_ARRAY_BUFFER}\n     */\n\tthis.type = type || gl.ARRAY_BUFFER;\n\n\t/**\n     * The draw type of the buffer\n     *\n     * @member {gl.STATIC_DRAW|gl.DYNAMIC_DRAW|gl.STREAM_DRAW}\n     */\n\tthis.drawType = drawType || gl.STATIC_DRAW;\n\n\t/**\n     * The data in the buffer, as a typed array\n     *\n     * @member {ArrayBuffer| SharedArrayBuffer|ArrayBufferView}\n     */\n\tthis.data = EMPTY_ARRAY_BUFFER;\n\n\tif(data)\n\t{\n\t\tthis.upload(data);\n\t}\n\n\tthis._updateID = 0;\n};\n\n/**\n * Uploads the buffer to the GPU\n * @param data {ArrayBuffer| SharedArrayBuffer|ArrayBufferView} an array of data to upload\n * @param offset {Number} if only a subset of the data should be uploaded, this is the amount of data to subtract\n * @param dontBind {Boolean} whether to bind the buffer before uploading it\n */\nBuffer.prototype.upload = function(data, offset, dontBind)\n{\n\t// todo - needed?\n\tif(!dontBind) this.bind();\n\n\tvar gl = this.gl;\n\n\tdata = data || this.data;\n\toffset = offset || 0;\n\n\tif(this.data.byteLength >= data.byteLength)\n\t{\n\t\tgl.bufferSubData(this.type, offset, data);\n\t}\n\telse\n\t{\n\t\tgl.bufferData(this.type, data, this.drawType);\n\t}\n\n\tthis.data = data;\n};\n/**\n * Binds the buffer\n *\n */\nBuffer.prototype.bind = function()\n{\n\tvar gl = this.gl;\n\tgl.bindBuffer(this.type, this.buffer);\n};\n\nBuffer.createVertexBuffer = function(gl, data, drawType)\n{\n\treturn new Buffer(gl, gl.ARRAY_BUFFER, data, drawType);\n};\n\nBuffer.createIndexBuffer = function(gl, data, drawType)\n{\n\treturn new Buffer(gl, gl.ELEMENT_ARRAY_BUFFER, data, drawType);\n};\n\nBuffer.create = function(gl, type, data, drawType)\n{\n\treturn new Buffer(gl, type, data, drawType);\n};\n\n/**\n * Destroys the buffer\n *\n */\nBuffer.prototype.destroy = function(){\n\tthis.gl.deleteBuffer(this.buffer);\n};\n\nmodule.exports = Buffer;\n","\nvar Texture = require('./GLTexture');\n\n/**\n * Helper class to create a webGL Framebuffer\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param width {Number} the width of the drawing area of the frame buffer\n * @param height {Number} the height of the drawing area of the frame buffer\n */\nvar Framebuffer = function(gl, width, height)\n{\n    /**\n     * The current WebGL rendering context\n     *\n     * @member {WebGLRenderingContext}\n     */\n    this.gl = gl;\n\n    /**\n     * The frame buffer\n     *\n     * @member {WebGLFramebuffer}\n     */\n    this.framebuffer = gl.createFramebuffer();\n\n    /**\n     * The stencil buffer\n     *\n     * @member {WebGLRenderbuffer}\n     */\n    this.stencil = null;\n\n    /**\n     * The stencil buffer\n     *\n     * @member {PIXI.glCore.GLTexture}\n     */\n    this.texture = null;\n\n    /**\n     * The width of the drawing area of the buffer\n     *\n     * @member {Number}\n     */\n    this.width = width || 100;\n    /**\n     * The height of the drawing area of the buffer\n     *\n     * @member {Number}\n     */\n    this.height = height || 100;\n\n\n};\n\n/**\n * Adds a texture to the frame buffer\n * @param texture {PIXI.glCore.GLTexture}\n */\nFramebuffer.prototype.enableTexture = function(texture)\n{\n    var gl = this.gl;\n\n    this.texture = texture || new Texture(gl);\n\n    this.texture.bind();\n\n    //gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA,  this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n    this.bind();\n\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n};\n\n/**\n * Initialises the stencil buffer\n */\nFramebuffer.prototype.enableStencil = function()\n{\n    if(this.stencil)return;\n\n    var gl = this.gl;\n\n    this.stencil = gl.createRenderbuffer();\n\n    gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencil);\n\n    // TODO.. this is depth AND stencil?\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, this.stencil);\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL,  this.width  , this.height );\n\n\n};\n\n/**\n * Erases the drawing area and fills it with a colour\n * @param  r {Number} the red value of the clearing colour\n * @param  g {Number} the green value of the clearing colour\n * @param  b {Number} the blue value of the clearing colour\n * @param  a {Number} the alpha value of the clearing colour\n */\nFramebuffer.prototype.clear = function( r, g, b, a )\n{\n    this.bind();\n\n    var gl = this.gl;\n\n    gl.clearColor(r, g, b, a);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n};\n\n/**\n * Binds the frame buffer to the WebGL context\n */\nFramebuffer.prototype.bind = function()\n{\n    var gl = this.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer );\n};\n\n/**\n * Unbinds the frame buffer to the WebGL context\n */\nFramebuffer.prototype.unbind = function()\n{\n    var gl = this.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null );\n};\n/**\n * Resizes the drawing area of the buffer to the given width and height\n * @param  width  {Number} the new width\n * @param  height {Number} the new height\n */\nFramebuffer.prototype.resize = function(width, height)\n{\n    var gl = this.gl;\n\n    this.width = width;\n    this.height = height;\n\n    if ( this.texture )\n    {\n        this.texture.uploadData(null, width, height);\n    }\n\n    if ( this.stencil )\n    {\n        // update the stencil buffer width and height\n        gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencil);\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, width, height);\n    }\n};\n\n/**\n * Destroys this buffer\n */\nFramebuffer.prototype.destroy = function()\n{\n    var gl = this.gl;\n\n    //TODO\n    if(this.texture)\n    {\n        this.texture.destroy();\n    }\n\n    gl.deleteFramebuffer(this.framebuffer);\n\n    this.gl = null;\n\n    this.stencil = null;\n    this.texture = null;\n};\n\n/**\n * Creates a frame buffer with a texture containing the given data\n * @static\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param width {Number} the width of the drawing area of the frame buffer\n * @param height {Number} the height of the drawing area of the frame buffer\n * @param data {ArrayBuffer| SharedArrayBuffer|ArrayBufferView} an array of data\n */\nFramebuffer.createRGBA = function(gl, width, height, data)\n{\n    var texture = Texture.fromData(gl, null, width, height);\n    texture.enableNearestScaling();\n    texture.enableWrapClamp();\n\n    //now create the framebuffer object and attach the texture to it.\n    var fbo = new Framebuffer(gl, width, height);\n    fbo.enableTexture(texture);\n    fbo.enableStencil();\n\n    fbo.unbind();\n\n    return fbo;\n};\n\n/**\n * Creates a frame buffer with a texture containing the given data\n * @static\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param width {Number} the width of the drawing area of the frame buffer\n * @param height {Number} the height of the drawing area of the frame buffer\n * @param data {ArrayBuffer| SharedArrayBuffer|ArrayBufferView} an array of data\n */\nFramebuffer.createFloat32 = function(gl, width, height, data)\n{\n    // create a new texture..\n    var texture = new Texture.fromData(gl, data, width, height);\n    texture.enableNearestScaling();\n    texture.enableWrapClamp();\n\n    //now create the framebuffer object and attach the texture to it.\n    var fbo = new Framebuffer(gl, width, height);\n    fbo.enableTexture(texture);\n\n    fbo.unbind();\n\n    return fbo;\n};\n\nmodule.exports = Framebuffer;\n","\nvar compileProgram = require('./shader/compileProgram'),\n\textractAttributes = require('./shader/extractAttributes'),\n\textractUniforms = require('./shader/extractUniforms'),\n\tsetPrecision = require('./shader/setPrecision'),\n\tgenerateUniformAccessObject = require('./shader/generateUniformAccessObject');\n\n/**\n * Helper class to create a webGL Shader\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext}\n * @param vertexSrc {string|string[]} The vertex shader source as an array of strings.\n * @param fragmentSrc {string|string[]} The fragment shader source as an array of strings.\n */\nvar Shader = function(gl, vertexSrc, fragmentSrc, precision, attributeLocations)\n{\n\t/**\n\t * The current WebGL rendering context\n\t *\n\t * @member {WebGLRenderingContext}\n\t */\n\tthis.gl = gl;\n\n\n\tif(precision)\n\t{\n\t\tvertexSrc = setPrecision(vertexSrc, precision);\n\t\tfragmentSrc = setPrecision(fragmentSrc, precision);\n\t}\n\n\t/**\n\t * The shader program\n\t *\n\t * @member {WebGLProgram}\n\t */\n\t// First compile the program..\n\tthis.program = compileProgram(gl, vertexSrc, fragmentSrc, attributeLocations);\n\n\t/**\n\t * The attributes of the shader as an object containing the following properties\n\t * {\n\t * \ttype,\n\t * \tsize,\n\t * \tlocation,\n\t * \tpointer\n\t * }\n\t * @member {Object}\n\t */\n\t// next extract the attributes\n\tthis.attributes = extractAttributes(gl, this.program);\n\n    this.uniformData = extractUniforms(gl, this.program);\n\n\t/**\n\t * The uniforms of the shader as an object containing the following properties\n\t * {\n\t * \tgl,\n\t * \tdata\n\t * }\n\t * @member {Object}\n\t */\n\tthis.uniforms = generateUniformAccessObject( gl, this.uniformData );\n\n};\n/**\n * Uses this shader\n */\nShader.prototype.bind = function()\n{\n\tthis.gl.useProgram(this.program);\n};\n\n/**\n * Destroys this shader\n * TODO\n */\nShader.prototype.destroy = function()\n{\n\t// var gl = this.gl;\n};\n\n\nmodule.exports = Shader;\n","\n/**\n * Helper class to create a WebGL Texture\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext} The current WebGL context\n * @param width {number} the width of the texture\n * @param height {number} the height of the texture\n * @param format {number} the pixel format of the texture. defaults to gl.RGBA\n * @param type {number} the gl type of the texture. defaults to gl.UNSIGNED_BYTE\n */\nvar Texture = function(gl, width, height, format, type)\n{\n\t/**\n\t * The current WebGL rendering context\n\t *\n\t * @member {WebGLRenderingContext}\n\t */\n\tthis.gl = gl;\n\n\n\t/**\n\t * The WebGL texture\n\t *\n\t * @member {WebGLTexture}\n\t */\n\tthis.texture = gl.createTexture();\n\n\t/**\n\t * If mipmapping was used for this texture, enable and disable with enableMipmap()\n\t *\n\t * @member {Boolean}\n\t */\n\t// some settings..\n\tthis.mipmap = false;\n\n\n\t/**\n\t * Set to true to enable pre-multiplied alpha\n\t *\n\t * @member {Boolean}\n\t */\n\tthis.premultiplyAlpha = false;\n\n\t/**\n\t * The width of texture\n\t *\n\t * @member {Number}\n\t */\n\tthis.width = width || -1;\n\t/**\n\t * The height of texture\n\t *\n\t * @member {Number}\n\t */\n\tthis.height = height || -1;\n\n\t/**\n\t * The pixel format of the texture. defaults to gl.RGBA\n\t *\n\t * @member {Number}\n\t */\n\tthis.format = format || gl.RGBA;\n\n\t/**\n\t * The gl type of the texture. defaults to gl.UNSIGNED_BYTE\n\t *\n\t * @member {Number}\n\t */\n\tthis.type = type || gl.UNSIGNED_BYTE;\n\n\n};\n\n/**\n * Uploads this texture to the GPU\n * @param source {HTMLImageElement|ImageData|HTMLVideoElement} the source image of the texture\n */\nTexture.prototype.upload = function(source)\n{\n\tthis.bind();\n\n\tvar gl = this.gl;\n\n\n\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\n\n\tvar newWidth = source.videoWidth || source.width;\n\tvar newHeight = source.videoHeight || source.height;\n\n\tif(newHeight !== this.height || newWidth !== this.width)\n\t{\n    \tgl.texImage2D(gl.TEXTURE_2D, 0, this.format, this.format, this.type, source);\n\t}\n\telse\n\t{\n    \tgl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, this.format, this.type, source);\n\t}\n\n\t// if the source is a video, we need to use the videoWidth / videoHeight properties as width / height will be incorrect.\n\tthis.width = newWidth;\n\tthis.height = newHeight;\n\n};\n\nvar FLOATING_POINT_AVAILABLE = false;\n\n/**\n * Use a data source and uploads this texture to the GPU\n * @param data {TypedArray} the data to upload to the texture\n * @param width {number} the new width of the texture\n * @param height {number} the new height of the texture\n */\nTexture.prototype.uploadData = function(data, width, height)\n{\n\tthis.bind();\n\n\tvar gl = this.gl;\n\n\n\tif(data instanceof Float32Array)\n\t{\n\t\tif(!FLOATING_POINT_AVAILABLE)\n\t\t{\n\t\t\tvar ext = gl.getExtension(\"OES_texture_float\");\n\n\t\t\tif(ext)\n\t\t\t{\n\t\t\t\tFLOATING_POINT_AVAILABLE = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow new Error('floating point textures not available');\n\t\t\t}\n\t\t}\n\n\t\tthis.type = gl.FLOAT;\n\t}\n\telse\n\t{\n\t\t// TODO support for other types\n\t\tthis.type = gl.UNSIGNED_BYTE;\n\t}\n\n\t// what type of data?\n\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\n\n\n\tif(width !== this.width || height !== this.height)\n\t{\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, this.format,  width, height, 0, this.format, this.type, data || null);\n\t}\n\telse\n\t{\n\t\tgl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, width, height, this.format, this.type, data || null);\n\t}\n\n\tthis.width = width;\n\tthis.height = height;\n\n\n//\ttexSubImage2D\n};\n\n/**\n * Binds the texture\n * @param  location\n */\nTexture.prototype.bind = function(location)\n{\n\tvar gl = this.gl;\n\n\tif(location !== undefined)\n\t{\n\t\tgl.activeTexture(gl.TEXTURE0 + location);\n\t}\n\n\tgl.bindTexture(gl.TEXTURE_2D, this.texture);\n};\n\n/**\n * Unbinds the texture\n */\nTexture.prototype.unbind = function()\n{\n\tvar gl = this.gl;\n\tgl.bindTexture(gl.TEXTURE_2D, null);\n};\n\n/**\n * @param linear {Boolean} if we want to use linear filtering or nearest neighbour interpolation\n */\nTexture.prototype.minFilter = function( linear )\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tif(this.mipmap)\n\t{\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);\n\t}\n\telse\n\t{\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR : gl.NEAREST);\n\t}\n};\n\n/**\n * @param linear {Boolean} if we want to use linear filtering or nearest neighbour interpolation\n */\nTexture.prototype.magFilter = function( linear )\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, linear ? gl.LINEAR : gl.NEAREST);\n};\n\n/**\n * Enables mipmapping\n */\nTexture.prototype.enableMipmap = function()\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tthis.mipmap = true;\n\n\tgl.generateMipmap(gl.TEXTURE_2D);\n};\n\n/**\n * Enables linear filtering\n */\nTexture.prototype.enableLinearScaling = function()\n{\n\tthis.minFilter(true);\n\tthis.magFilter(true);\n};\n\n/**\n * Enables nearest neighbour interpolation\n */\nTexture.prototype.enableNearestScaling = function()\n{\n\tthis.minFilter(false);\n\tthis.magFilter(false);\n};\n\n/**\n * Enables clamping on the texture so WebGL will not repeat it\n */\nTexture.prototype.enableWrapClamp = function()\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n};\n\n/**\n * Enable tiling on the texture\n */\nTexture.prototype.enableWrapRepeat = function()\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n};\n\nTexture.prototype.enableWrapMirrorRepeat = function()\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.MIRRORED_REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.MIRRORED_REPEAT);\n};\n\n\n/**\n * Destroys this texture\n */\nTexture.prototype.destroy = function()\n{\n\tvar gl = this.gl;\n\t//TODO\n\tgl.deleteTexture(this.texture);\n};\n\n/**\n * @static\n * @param gl {WebGLRenderingContext} The current WebGL context\n * @param source {HTMLImageElement|ImageData} the source image of the texture\n * @param premultiplyAlpha {Boolean} If we want to use pre-multiplied alpha\n */\nTexture.fromSource = function(gl, source, premultiplyAlpha)\n{\n\tvar texture = new Texture(gl);\n\ttexture.premultiplyAlpha = premultiplyAlpha || false;\n\ttexture.upload(source);\n\n\treturn texture;\n};\n\n/**\n * @static\n * @param gl {WebGLRenderingContext} The current WebGL context\n * @param data {TypedArray} the data to upload to the texture\n * @param width {number} the new width of the texture\n * @param height {number} the new height of the texture\n */\nTexture.fromData = function(gl, data, width, height)\n{\n\t//console.log(data, width, height);\n\tvar texture = new Texture(gl);\n\ttexture.uploadData(data, width, height);\n\n\treturn texture;\n};\n\n\nmodule.exports = Texture;\n","\n// state object//\nvar setVertexAttribArrays = require( './setVertexAttribArrays' );\n\n/**\n * Helper class to work with WebGL VertexArrayObjects (vaos)\n * Only works if WebGL extensions are enabled (they usually are)\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n */\nfunction VertexArrayObject(gl, state)\n{\n    this.nativeVaoExtension = null;\n\n    if(!VertexArrayObject.FORCE_NATIVE)\n    {\n        this.nativeVaoExtension = gl.getExtension('OES_vertex_array_object') ||\n                                  gl.getExtension('MOZ_OES_vertex_array_object') ||\n                                  gl.getExtension('WEBKIT_OES_vertex_array_object');\n    }\n\n    this.nativeState = state;\n\n    if(this.nativeVaoExtension)\n    {\n        this.nativeVao = this.nativeVaoExtension.createVertexArrayOES();\n\n        var maxAttribs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n\n        // VAO - overwrite the state..\n        this.nativeState = {\n            tempAttribState: new Array(maxAttribs),\n            attribState: new Array(maxAttribs)\n        };\n    }\n\n    /**\n     * The current WebGL rendering context\n     *\n     * @member {WebGLRenderingContext}\n     */\n    this.gl = gl;\n\n    /**\n     * An array of attributes\n     *\n     * @member {Array}\n     */\n    this.attributes = [];\n\n    /**\n     * @member {PIXI.glCore.GLBuffer}\n     */\n    this.indexBuffer = null;\n\n    /**\n     * A boolean flag\n     *\n     * @member {Boolean}\n     */\n    this.dirty = false;\n}\n\nVertexArrayObject.prototype.constructor = VertexArrayObject;\nmodule.exports = VertexArrayObject;\n\n/**\n* Some devices behave a bit funny when using the newer extensions (im looking at you ipad 2!)\n* If you find on older devices that things have gone a bit weird then set this to true.\n*/\n/**\n * Lets the VAO know if you should use the WebGL extension or the native methods.\n * Some devices behave a bit funny when using the newer extensions (im looking at you ipad 2!)\n * If you find on older devices that things have gone a bit weird then set this to true.\n * @static\n * @property {Boolean} FORCE_NATIVE\n */\nVertexArrayObject.FORCE_NATIVE = false;\n\n/**\n * Binds the buffer\n */\nVertexArrayObject.prototype.bind = function()\n{\n    if(this.nativeVao)\n    {\n        this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);\n\n        if(this.dirty)\n        {\n            this.dirty = false;\n            this.activate();\n        }\n    }\n    else\n    {\n\n        this.activate();\n    }\n\n    return this;\n};\n\n/**\n * Unbinds the buffer\n */\nVertexArrayObject.prototype.unbind = function()\n{\n    if(this.nativeVao)\n    {\n        this.nativeVaoExtension.bindVertexArrayOES(null);\n    }\n\n    return this;\n};\n\n/**\n * Uses this vao\n */\nVertexArrayObject.prototype.activate = function()\n{\n\n    var gl = this.gl;\n    var lastBuffer = null;\n\n    for (var i = 0; i < this.attributes.length; i++)\n    {\n        var attrib = this.attributes[i];\n\n        if(lastBuffer !== attrib.buffer)\n        {\n            attrib.buffer.bind();\n            lastBuffer = attrib.buffer;\n        }\n\n\n        //attrib.attribute.pointer(attrib.type, attrib.normalized, attrib.stride, attrib.start);\n        gl.vertexAttribPointer(attrib.attribute.location,\n                               attrib.attribute.size, attrib.type || gl.FLOAT,\n                               attrib.normalized || false,\n                               attrib.stride || 0,\n                               attrib.start || 0);\n\n\n    }\n\n    setVertexAttribArrays(gl, this.attributes, this.nativeState);\n\n    this.indexBuffer.bind();\n\n    return this;\n};\n\n/**\n *\n * @param buffer     {PIXI.gl.GLBuffer}\n * @param attribute  {*}\n * @param type       {String}\n * @param normalized {Boolean}\n * @param stride     {Number}\n * @param start      {Number}\n */\nVertexArrayObject.prototype.addAttribute = function(buffer, attribute, type, normalized, stride, start)\n{\n    this.attributes.push({\n        buffer:     buffer,\n        attribute:  attribute,\n\n        location:   attribute.location,\n        type:       type || this.gl.FLOAT,\n        normalized: normalized || false,\n        stride:     stride || 0,\n        start:      start || 0\n    });\n\n    this.dirty = true;\n\n    return this;\n};\n\n/**\n *\n * @param buffer   {PIXI.gl.GLBuffer}\n */\nVertexArrayObject.prototype.addIndex = function(buffer/*, options*/)\n{\n    this.indexBuffer = buffer;\n\n    this.dirty = true;\n\n    return this;\n};\n\n/**\n * Unbinds this vao and disables it\n */\nVertexArrayObject.prototype.clear = function()\n{\n    // var gl = this.gl;\n\n    // TODO - should this function unbind after clear?\n    // for now, no but lets see what happens in the real world!\n    if(this.nativeVao)\n    {\n        this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);\n    }\n\n    this.attributes.length = 0;\n    this.indexBuffer = null;\n\n    return this;\n};\n\n/**\n * @param type  {Number}\n * @param size  {Number}\n * @param start {Number}\n */\nVertexArrayObject.prototype.draw = function(type, size, start)\n{\n    var gl = this.gl;\n    gl.drawElements(type, size || this.indexBuffer.data.length, gl.UNSIGNED_SHORT, start || 0);\n\n    return this;\n};\n\n/**\n * Destroy this vao\n */\nVertexArrayObject.prototype.destroy = function()\n{\n    // lose references\n    this.gl = null;\n    this.indexBuffer = null;\n    this.attributes = null;\n    this.nativeState = null;\n\n    if(this.nativeVao)\n    {\n        this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);\n    }\n\n    this.nativeVaoExtension = null;\n    this.nativeVao = null;\n};\n","\n/**\n * Helper class to create a webGL Context\n *\n * @class\n * @memberof PIXI.glCore\n * @param canvas {HTMLCanvasElement} the canvas element that we will get the context from\n * @param options {Object} An options object that gets passed in to the canvas element containing the context attributes,\n *                         see https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/getContext for the options available\n * @return {WebGLRenderingContext} the WebGL context\n */\nvar createContext = function(canvas, options)\n{\n    var gl = canvas.getContext('webgl', options) || \n         canvas.getContext('experimental-webgl', options);\n\n    if (!gl)\n    {\n        // fail, not able to get a context\n        throw new Error('This browser does not support webGL. Try using the canvas renderer');\n    }\n\n    return gl;\n};\n\nmodule.exports = createContext;\n","// var GL_MAP = {};\n\n/**\n * @param gl {WebGLRenderingContext} The current WebGL context\n * @param attribs {*}\n * @param state {*}\n */\nvar setVertexAttribArrays = function (gl, attribs, state)\n{\n    var i;\n    if(state)\n    {\n        var tempAttribState = state.tempAttribState,\n            attribState = state.attribState;\n\n        for (i = 0; i < tempAttribState.length; i++)\n        {\n            tempAttribState[i] = false;\n        }\n\n        // set the new attribs\n        for (i = 0; i < attribs.length; i++)\n        {\n            tempAttribState[attribs[i].attribute.location] = true;\n        }\n\n        for (i = 0; i < attribState.length; i++)\n        {\n            if (attribState[i] !== tempAttribState[i])\n            {\n                attribState[i] = tempAttribState[i];\n\n                if (state.attribState[i])\n                {\n                    gl.enableVertexAttribArray(i);\n                }\n                else\n                {\n                    gl.disableVertexAttribArray(i);\n                }\n            }\n        }\n\n    }\n    else\n    {\n        for (i = 0; i < attribs.length; i++)\n        {\n            var attrib = attribs[i];\n            gl.enableVertexAttribArray(attrib.attribute.location);\n        }\n    }\n};\n\nmodule.exports = setVertexAttribArrays;\n","\n/**\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL context {WebGLProgram}\n * @param vertexSrc {string|string[]} The vertex shader source as an array of strings.\n * @param fragmentSrc {string|string[]} The fragment shader source as an array of strings.\n * @param attributeLocations {Object} An attribute location map that lets you manually set the attribute locations\n * @return {WebGLProgram} the shader program\n */\nvar compileProgram = function(gl, vertexSrc, fragmentSrc, attributeLocations)\n{\n    var glVertShader = compileShader(gl, gl.VERTEX_SHADER, vertexSrc);\n    var glFragShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentSrc);\n\n    var program = gl.createProgram();\n\n    gl.attachShader(program, glVertShader);\n    gl.attachShader(program, glFragShader);\n\n    // optionally, set the attributes manually for the program rather than letting WebGL decide..\n    if(attributeLocations)\n    {\n        for(var i in attributeLocations)\n        {\n            gl.bindAttribLocation(program, attributeLocations[i], i);\n        }\n    }\n\n\n    gl.linkProgram(program);\n\n    // if linking fails, then log and cleanup\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS))\n    {\n        console.error('Pixi.js Error: Could not initialize shader.');\n        console.error('gl.VALIDATE_STATUS', gl.getProgramParameter(program, gl.VALIDATE_STATUS));\n        console.error('gl.getError()', gl.getError());\n\n        // if there is a program info log, log it\n        if (gl.getProgramInfoLog(program) !== '')\n        {\n            console.warn('Pixi.js Warning: gl.getProgramInfoLog()', gl.getProgramInfoLog(program));\n        }\n\n        gl.deleteProgram(program);\n        program = null;\n    }\n\n    // clean up some shaders\n    gl.deleteShader(glVertShader);\n    gl.deleteShader(glFragShader);\n\n    return program;\n};\n\n/**\n * @private\n * @param gl {WebGLRenderingContext} The current WebGL context {WebGLProgram}\n * @param type {Number} the type, can be either VERTEX_SHADER or FRAGMENT_SHADER\n * @param vertexSrc {string|string[]} The vertex shader source as an array of strings.\n * @return {WebGLShader} the shader\n */\nvar compileShader = function (gl, type, src)\n{\n    var shader = gl.createShader(type);\n\n    gl.shaderSource(shader, src);\n    gl.compileShader(shader);\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\n    {\n        console.log(gl.getShaderInfoLog(shader));\n        return null;\n    }\n\n    return shader;\n};\n\nmodule.exports = compileProgram;\n","/**\n * @class\n * @memberof PIXI.glCore.shader\n * @param type {String} Type of value\n * @param size {Number}\n */\nvar defaultValue = function(type, size) \n{\n    switch (type)\n    {\n        case 'float':\n            return 0;\n\n        case 'vec2': \n            return new Float32Array(2 * size);\n\n        case 'vec3':\n            return new Float32Array(3 * size);\n\n        case 'vec4':     \n            return new Float32Array(4 * size);\n            \n        case 'int':\n        case 'sampler2D':\n            return 0;\n\n        case 'ivec2':   \n            return new Int32Array(2 * size);\n\n        case 'ivec3':\n            return new Int32Array(3 * size);\n\n        case 'ivec4': \n            return new Int32Array(4 * size);\n\n        case 'bool':     \n            return false;\n\n        case 'bvec2':\n\n            return booleanArray( 2 * size);\n\n        case 'bvec3':\n            return booleanArray(3 * size);\n\n        case 'bvec4':\n            return booleanArray(4 * size);\n\n        case 'mat2':\n            return new Float32Array([1, 0,\n                                     0, 1]);\n\n        case 'mat3': \n            return new Float32Array([1, 0, 0,\n                                     0, 1, 0,\n                                     0, 0, 1]);\n\n        case 'mat4':\n            return new Float32Array([1, 0, 0, 0,\n                                     0, 1, 0, 0,\n                                     0, 0, 1, 0,\n                                     0, 0, 0, 1]);\n    }\n};\n\nvar booleanArray = function(size)\n{\n    var array = new Array(size);\n\n    for (var i = 0; i < array.length; i++) \n    {\n        array[i] = false;\n    }\n\n    return array;\n};\n\nmodule.exports = defaultValue;\n","\nvar mapType = require('./mapType');\nvar mapSize = require('./mapSize');\n\n/**\n * Extracts the attributes\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the attributes from\n * @return attributes {Object}\n */\nvar extractAttributes = function(gl, program)\n{\n    var attributes = {};\n\n    var totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n    for (var i = 0; i < totalAttributes; i++)\n    {\n        var attribData = gl.getActiveAttrib(program, i);\n        var type = mapType(gl, attribData.type);\n\n        attributes[attribData.name] = {\n            type:type,\n            size:mapSize(type),\n            location:gl.getAttribLocation(program, attribData.name),\n            //TODO - make an attribute object\n            pointer: pointer\n        };\n    }\n\n    return attributes;\n};\n\nvar pointer = function(type, normalized, stride, start){\n    // console.log(this.location)\n    gl.vertexAttribPointer(this.location,this.size, type || gl.FLOAT, normalized || false, stride || 0, start || 0);\n};\n\nmodule.exports = extractAttributes;\n","var mapType = require('./mapType');\nvar defaultValue = require('./defaultValue');\n\n/**\n * Extracts the uniforms\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the uniforms from\n * @return uniforms {Object}\n */\nvar extractUniforms = function(gl, program)\n{\n\tvar uniforms = {};\n\n    var totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    for (var i = 0; i < totalUniforms; i++)\n    {\n    \tvar uniformData = gl.getActiveUniform(program, i);\n    \tvar name = uniformData.name.replace(/\\[.*?\\]/, \"\");\n        var type = mapType(gl, uniformData.type );\n\n    \tuniforms[name] = {\n    \t\ttype:type,\n    \t\tsize:uniformData.size,\n    \t\tlocation:gl.getUniformLocation(program, name),\n    \t\tvalue:defaultValue(type, uniformData.size)\n    \t};\n    }\n\n\treturn uniforms;\n};\n\nmodule.exports = extractUniforms;\n","/**\n * Extracts the attributes\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param uniforms {Array} @mat ?\n * @return attributes {Object}\n */\nvar generateUniformAccessObject = function(gl, uniformData)\n{\n    // this is the object we will be sending back.\n    // an object hierachy will be created for structs\n    var uniforms = {data:{}};\n\n    uniforms.gl = gl;\n\n    var uniformKeys= Object.keys(uniformData);\n\n    for (var i = 0; i < uniformKeys.length; i++)\n    {\n        var fullName = uniformKeys[i];\n\n        var nameTokens = fullName.split('.');\n        var name = nameTokens[nameTokens.length - 1];\n\n\n        var uniformGroup = getUniformGroup(nameTokens, uniforms);\n\n        var uniform =  uniformData[fullName];\n        uniformGroup.data[name] = uniform;\n\n        uniformGroup.gl = gl;\n\n        Object.defineProperty(uniformGroup, name, {\n            get: generateGetter(name),\n            set: generateSetter(name, uniform)\n        });\n    }\n\n    return uniforms;\n};\n\nvar generateGetter = function(name)\n{\n    return function() {\n        return this.data[name].value;\n    };\n};\n\nvar glslSetSingle = function glslSetSingle(gl, location, type, value) {\n    switch(type) {\n        case 'float':\n            gl.uniform1f(location, value);\n            break;\n        case 'vec2':\n            gl.uniform2f(location, value[0], value[1]);\n            break;\n        case 'vec3':\n            gl.uniform3f(location, value[0], value[1], value[2]);\n            break;\n        case 'vec4':\n            gl.uniform4f(location, value[0], value[1], value[2], value[3]);\n            break;\n        case 'int':\n            gl.uniform1i(location, value);\n            break;\n        case 'ivec2':\n            gl.uniform2i(location, value[0], value[1]);\n            break;\n        case 'ivec3':\n            gl.uniform3i(location, value[0], value[1], value[2]);\n            break;\n        case 'ivec4':\n            gl.uniform4i(location, value[0], value[1], value[2], value[3]);\n            break;\n        case 'bool':\n            gl.uniform1i(location, value);\n            break;\n        case 'bvec2':\n            gl.uniform2i(location, value[0], value[1]);\n            break;\n        case 'bvec3':\n            gl.uniform3i(location, value[0], value[1], value[2]);\n            break;\n        case 'bvec4':\n            gl.uniform4i(location, value[0], value[1], value[2], value[3]);\n            break;\n\n        case 'mat2':\n            gl.uniformMatrix2fv(location, false, value);\n            break;\n        case 'mat3':\n            gl.uniformMatrix3fv(location, false, value);\n            break;\n        case 'mat4':\n            gl.uniformMatrix4fv(location, false, value);\n            break;\n        case 'sampler2D':\n            gl.uniform1i(location, value);\n            break;\n    }\n};\n\nvar glslSetArray = function glslSetArray(gl, location, type, value) {\n    switch(type) {\n        case 'float':\n            gl.uniform1fv(location, value);\n            break;\n        case 'vec2':\n            gl.uniform2fv(location, value);\n            break;\n        case 'vec3':\n            gl.uniform3fv(location, value);\n            break;\n        case 'vec4':\n            gl.uniform4fv(location, value);\n            break;\n        case 'int':\n            gl.uniform1iv(location, value);\n            break;\n        case 'ivec2':\n            gl.uniform2iv(location, value);\n            break;\n        case 'ivec3':\n            gl.uniform3iv(location, value);\n            break;\n        case 'ivec4':\n            gl.uniform4iv(location, value);\n            break;\n        case 'bool':\n            gl.uniform1iv(location, value);\n            break;\n        case 'bvec2':\n            gl.uniform2iv(location, value);\n            break;\n        case 'bvec3':\n            gl.uniform3iv(location, value);\n            break;\n        case 'bvec4':\n            gl.uniform4iv(location, value);\n            break;\n        case 'sampler2D':\n            gl.uniform1iv(location, value);\n            break;\n    }\n};\n\nvar generateSetter = function(name, uniform)\n{\n    return function(value) {\n        this.data[name].value = value;\n        var location = this.data[name].location;\n        if (uniform.size === 1)\n        {\n            glslSetSingle(this.gl, location, uniform.type, value);\n        }\n        else\n        {\n            glslSetArray(this.gl, location, uniform.type, value);\n        }\n    };\n};\n\nvar getUniformGroup = function(nameTokens, uniform)\n{\n    var cur = uniform;\n\n    for (var i = 0; i < nameTokens.length - 1; i++)\n    {\n        var o = cur[nameTokens[i]] || {data:{}};\n        cur[nameTokens[i]] = o;\n        cur = o;\n    }\n\n    return cur;\n};\n\n\nmodule.exports = generateUniformAccessObject;\n","module.exports = {\n    compileProgram: require('./compileProgram'),\n    defaultValue: require('./defaultValue'),\n    extractAttributes: require('./extractAttributes'),\n    extractUniforms: require('./extractUniforms'),\n    generateUniformAccessObject: require('./generateUniformAccessObject'),\n    mapSize: require('./mapSize'),\n    mapType: require('./mapType')  \n};","/**\n * @class\n * @memberof PIXI.glCore.shader\n * @param type {String}\n * @return {Number}\n */\nvar mapSize = function(type) \n{ \n    return GLSL_TO_SIZE[type];\n};\n\n\nvar GLSL_TO_SIZE = {\n    'float':    1,\n    'vec2':     2,\n    'vec3':     3,\n    'vec4':     4,\n\n    'int':      1,\n    'ivec2':    2,\n    'ivec3':    3,\n    'ivec4':    4,\n\n    'bool':     1,\n    'bvec2':    2,\n    'bvec3':    3,\n    'bvec4':    4,\n\n    'mat2':     4,\n    'mat3':     9,\n    'mat4':     16,\n\n    'sampler2D':  1\n};\n\nmodule.exports = mapSize;\n","\n\nvar mapSize = function(gl, type) \n{\n    if(!GL_TABLE) \n    {\n        var typeNames = Object.keys(GL_TO_GLSL_TYPES);\n\n        GL_TABLE = {};\n\n        for(var i = 0; i < typeNames.length; ++i) \n        {\n            var tn = typeNames[i];\n            GL_TABLE[ gl[tn] ] = GL_TO_GLSL_TYPES[tn];\n        }\n    }\n\n  return GL_TABLE[type];\n};\n\nvar GL_TABLE = null;\n\nvar GL_TO_GLSL_TYPES = {\n  'FLOAT':       'float',\n  'FLOAT_VEC2':  'vec2',\n  'FLOAT_VEC3':  'vec3',\n  'FLOAT_VEC4':  'vec4',\n\n  'INT':         'int',\n  'INT_VEC2':    'ivec2',\n  'INT_VEC3':    'ivec3',\n  'INT_VEC4':    'ivec4',\n  \n  'BOOL':        'bool',\n  'BOOL_VEC2':   'bvec2',\n  'BOOL_VEC3':   'bvec3',\n  'BOOL_VEC4':   'bvec4',\n  \n  'FLOAT_MAT2':  'mat2',\n  'FLOAT_MAT3':  'mat3',\n  'FLOAT_MAT4':  'mat4',\n  \n  'SAMPLER_2D':  'sampler2D'  \n};\n\nmodule.exports = mapSize;\n","/**\n * @class\n * @memberof PIXI.glCore.shader\n * @param type {String}\n * @return {Number}\n */\nvar setPrecision = function(src, precision)\n{\n    if(src.substring(0, 9) !== 'precision')\n    {\n        return 'precision ' + precision + ' float;\\n' + src;\n    }\n\n    return src;\n};\n\nmodule.exports = setPrecision;\n","var gl = {\n    createContext:          require('./createContext'),\n    setVertexAttribArrays:  require('./setVertexAttribArrays'),\n    GLBuffer:               require('./GLBuffer'),\n    GLFramebuffer:          require('./GLFramebuffer'),\n    GLShader:               require('./GLShader'),\n    GLTexture:              require('./GLTexture'),\n    VertexArrayObject:      require('./VertexArrayObject'),\n    shader:                 require('./shader')\n};\n\n// Export for Node-compatible environments\nif (typeof module !== 'undefined' && module.exports)\n{\n    // Export the module\n    module.exports = gl;\n}\n\n// Add to the browser window pixi.gl\nif (typeof window !== 'undefined')\n{\n    // add the window object\n    window.PIXI = window.PIXI || {};\n    window.PIXI.glCore = gl;\n}\n"],"sourceRoot":"."}